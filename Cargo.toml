[package]
name = "surf"
version = "1.0.3"
license = "MIT OR Apache-2.0"
repository = "https://github.com/http-rs/surf"
documentation = "https://docs.rs/surf"
description = "HTTP client framework."
keywords = ["http", "client", "framework", "request"]
categories = ["web-programming", "web-programming::http-client"]
authors = ["Yoshua Wuyts <yoshuawuyts@gmail.com>"]
readme = "README.md"
edition = "2018"

[features]
default = ["middleware-logger", "encoding"]
native-client = ["http-client/native_client", "curl-client", "wasm-client"]
hyper-client = ["hyper", "hyper-tls", "native-tls", "runtime", "runtime-raw", "runtime-tokio" ]
curl-client = ["http-client/curl_client"]
wasm-client = ["http-client/wasm_client"]
middleware-logger = ["log"]
encoding = ["encoding_rs"]

[[example]]
name = "hello_world"
required-features = ["native-client"]

[[example]]
name = "middleware"
required-features = ["native-client"]

[[example]]
name = "next_reuse"
required-features = ["native-client"]

[[example]]
name = "persistent"
required-features = ["native-client"]

[[example]]
name = "post"
required-features = ["native-client"]

[dependencies]
futures = { version = "0.3.1", features = ["compat", "io-compat"] }
http = "0.1.17"
mime = "0.3.13"
mime_guess = "2.0.0-alpha.6"
serde = "1.0.97"
serde_json = "1.0.40"
serde_urlencoded = "0.6.1"
url = "2.0.0"
http-client = { version = "1.1.0" }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
# encoding
encoding_rs = { version = "0.8.20", optional = true }

# middleware-logger
log = { version = "0.4.7", optional = true, features = ["kv_unstable"] }

# hyper-client
hyper = { version = "0.12.32", optional = true, default-features = false }
hyper-tls = { version = "0.3.2", optional = true }
native-tls = { version = "0.2.2", optional = true }
runtime = { version = "0.3.0-alpha.6", optional = true }
runtime-raw = { version = "0.3.0-alpha.4", optional = true }
runtime-tokio = { version = "0.3.0-alpha.5", optional = true }

[target.'cfg(target_arch = "wasm32")'.dependencies.web-sys]
version = "0.3.25"
optional = true
features = [
    "AbortSignal",
    "Headers",
    "ObserverCallback",
    "ReferrerPolicy",
    "Request",
    "RequestCache",
    "RequestCredentials",
    "RequestInit",
    "RequestMode",
    "RequestRedirect",
    "Response",
    "TextDecoder",
    "Window",
]

[dev-dependencies]
async-std = { version = "1.0", features = ["attributes"] }
femme = "1.1.0"
serde = { version = "1.0.97", features = ["derive"] }
mockito = "0.22.0"
